<form name="enterBidForm">
  <md-toolbar class="md-hue-1">
    <h2 class="md-toolbar-tools">
      <span flex>{{$ctrl.race.name}}</span>
    </h2>
  </md-toolbar>
  <md-content class="below-sub-header-stationary">
    <section>
      <md-subheader class="md-primary">Grid</md-subheader>
        <div layout layout-sm="column" layout-padding>
          <md-input-container flex>
            <label flex>Vælg 1. kører</label>
            <md-select name="grid0" ng-model="$ctrl.bid.grid[0]" unique="$ctrl.bid.grid" required>
              <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
            </md-select>
            <div ng-if="!enterBidForm.grid0.$valid && $ctrl.bid.grid[0]" ng-messages="enterBidForm.grid0.$error">
              <div ng-messages-include="error-messages"></div>
            </div>
          </md-input-container>
          <md-input-container flex>
            <label flex>Vælg 2. kører</label>
            <md-select name="grid1" ng-model="$ctrl.bid.grid[1]" unique="$ctrl.bid.grid" required>
              <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
            </md-select>
            <div ng-if="!enterBidForm.grid1.$valid && $ctrl.bid.grid[1]" ng-messages="enterBidForm.grid1.$error">
              <div ng-messages-include="error-messages"></div>
            </div>
          </md-input-container>
        </div>
        <div layout layout-sm="column" layout-padding>
          <md-input-container flex>
            <label flex>Vælg 3. kører</label>
            <md-select name="grid2" ng-model="$ctrl.bid.grid[2]" unique="$ctrl.bid.grid" required>
              <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
            </md-select>
            <div ng-if="!enterBidForm.grid2.$valid && $ctrl.bid.grid[2]" ng-messages="enterBidForm.grid2.$error">
              <div ng-messages-include="error-messages"></div>
            </div>
          </md-input-container>
          <md-input-container flex>
            <label flex>Vælg 4. kører</label>
            <md-select name="grid3" ng-model="$ctrl.bid.grid[3]" unique="$ctrl.bid.grid" required>
              <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
            </md-select>
            <div ng-if="!enterBidForm.grid3.$valid && $ctrl.bid.grid[3]" ng-messages="enterBidForm.grid3.$error">
              <div ng-messages-include="error-messages"></div>
            </div>
          </md-input-container>
        </div>
        <div layout layout-sm="column" layout-padding>
          <md-input-container flex>
            <label flex>Vælg 5. kører</label>
            <md-select name="grid4" ng-model="$ctrl.bid.grid[4]" unique="$ctrl.bid.grid" required>
              <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
            </md-select>
            <div ng-if="!enterBidForm.grid4.$valid && $ctrl.bid.grid[4]" ng-messages="enterBidForm.grid4.$error">
              <div ng-messages-include="error-messages"></div>
            </div>
          </md-input-container>
          <md-input-container flex>
            <label flex>Vælg 6. kører</label>
            <md-select name="grid5" ng-model="$ctrl.bid.grid[5]" unique="$ctrl.bid.grid" required>
              <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
            </md-select>
            <div ng-if="!enterBidForm.grid5.$valid && $ctrl.bid.grid[5]" ng-messages="enterBidForm.grid5.$error">
              <div ng-messages-include="error-messages"></div>
            </div>
          </md-input-container>
        </div>
    </section>
    <section>
      <md-subheader class="md-primary">Hurtigste kører</md-subheader>
      <div layout layout-sm="column" layout-padding>
        <md-input-container flex flex-gt-sm="50">
          <label flex>Vælg hurtigste kører</label>
          <md-select ng-model="$ctrl.bid.fastestLap" >
            <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
          </md-select>
        </md-input-container>
      </div>
    </section>
    <section>
      <md-subheader class="md-primary">Podium</md-subheader>
      <div layout layout-sm="column" layout-padding>
        <md-input-container flex>
          <label flex>Vælg 1. pladsen</label>
          <md-select name="podium0" ng-model="$ctrl.bid.podium[0]" unique="$ctrl.bid.podium" required>
            <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
          </md-select>
          <div ng-if="!enterBidForm.podium0.$valid  && $ctrl.bid.podium[0]" ng-messages="enterBidForm.podium0.$error">
            <div ng-messages-include="error-messages"></div>
          </div>
        </md-input-container>
        <md-input-container flex>
          <label flex>Vælg 2. pladsen</label>
          <md-select name="podium1" ng-model="$ctrl.bid.podium[1]" unique="$ctrl.bid.podium" required>
            <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
          </md-select>
          <div ng-if="!enterBidForm.podium1.$valid  && $ctrl.bid.podium[1]" ng-messages="enterBidForm.podium1.$error">
            <div ng-messages-include="error-messages"></div>
          </div>
        </md-input-container>
        <md-input-container flex>
          <label flex>Vælg 3. pladsen</label>
          <md-select name="podium2" ng-model="$ctrl.bid.podium[2]" unique="$ctrl.bid.podium" required>
            <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
          </md-select>
          <div ng-if="!enterBidForm.podium2.$valid  && $ctrl.bid.podium[2]" ng-messages="enterBidForm.podium2.$error">
            <div ng-messages-include="error-messages"></div>
          </div>
        </md-input-container>
      </div>
    </section>
    <section>
      <md-subheader class="md-primary" layout="column">
        <span flex ng-bind="$ctrl.race.selectedDriver.name"><i class="fa fa-spin fa-spinner"></i></span>
      </md-subheader>
      <div layout layout-sm="column" layout-padding>
        <md-input-container flex>
          <label flex>Vælg startsplacering</label>
          <md-select name="startPosition" ng-model="$ctrl.bid.selectedDriver[0]" required>
            <md-option ng-repeat="driver in $ctrl.drivers track by $index" ng-value="$index+1" >{{$index+1}}</md-option>
          </md-select>
          <div ng-if="!enterBidForm.startPosition.$valid && bid.selectedDriver[0]" ng-messages="enterBidForm.startPosition.$error">
            <div ng-messages-include="error-messages"></div>
          </div>
        </md-input-container>
        <md-input-container flex>
          <label flex>Vælg slutplacering</label>
          <md-select name="endPosition" ng-model="$ctrl.bid.selectedDriver[1]" required>
            <md-option ng-repeat="driver in $ctrl.drivers track by $index" ng-value="$index+1" >{{$index+1}}</md-option>
          </md-select>
          <div ng-if="!enterBidForm.endPosition.$valid && bid.selectedDriver[1]" ng-messages="enterBidForm.endPosition.$error">
            <div ng-messages-include="error-messages"></div>
          </div>
        </md-input-container>
      </div>
    </section>
    <section>
      <md-subheader class="md-primary">Først udgået</md-subheader>
      <div layout layout-sm="column" layout-padding>
        <md-input-container flex flex-gt-sm="50">
          <label flex>Vælg først udgået</label>
          <md-select ng-model="$ctrl.bid.firstCrash">
            <md-option ng-repeat="driver in $ctrl.drivers" ng-value="driver.code" >{{driver.name}}</md-option>
          </md-select>
        </md-input-container>
      </div>
    </section>
    <section>
      <md-subheader class="md-primary">Pole tid</md-subheader>
      <div layout layout-padding>
        <md-input-container flex>
          <label>Minutter</label>
          <input type="number" name="minutes" required ng-model="$ctrl.bid.minutes" min="1" max="2" maxlength="1">
          <div ng-messages="enterBidForm.minutes.$error" ng-if="enterBidForm.minutes.$dirty">
            <div ng-messages-include="error-messages"></div>
            <div ng-message="min">&gt; 0</div>
            <div ng-message="max">&lt;= 2</div>
          </div>
        </md-input-container>
        <md-input-container flex>
          <label>Sekunder</label>
          <input type="number" name="seconds" ng-model="$ctrl.bid.seconds" required min="0" max="59" maxlength="2">
          <div ng-messages="enterBidForm.seconds.$error" ng-if="enterBidForm.seconds.$dirty">
            <div ng-messages-include="error-messages"></div>
            <div ng-message="min">&gt; 0</div>
            <div ng-message="max">&lt;= 59</div>
          </div>
        </md-input-container>
        <md-input-container flex>
          <label>Millisekunder</label>
          <input type="number" name="milliseconds" required ng-model="$ctrl.bid.milliseconds" min="0" max="999" ng-maxlength="3">
          <div ng-messages="enterBidForm.milliseconds.$error" ng-if="enterBidForm.milliseconds.$dirty">
            <div ng-messages-include="error-messages"></div>
            <div ng-message="min">&gt; 0</div>
            <div ng-message="max">&lt;= 999</div>
          </div>
        </md-input-container>
      </div>
    </section>
  </md-content>
</form>
<md-button class="md-fab md-fab-bottom-right f2015-fab-bottom-right" aria-label="Indsend resultat" ng-disabled="!enterBidForm.$valid" ng-click="$ctrl.submitBid()">
  <i class="fa fa-send"></i>
</md-button>
